import{C as B}from"./Common.4e0d686f.js";import{P as $}from"./PageHeader.19c8b54d.js";import{_ as T,d as y,a as k,I as w,X as A,a0 as C,R as x,i as _,o as r,k as c,E as v,y as N,h as i,s as R,g as D,t as g,F as m,r as V,e as h,f as d,w as L,x as S,C as b,b as z}from"./app.8bcbc89f.js";import{r as E}from"./resolveTime.89e5ea9d.js";const F=l=>{const s={},t=[];for(const e of l){if(!e.info.date)continue;const o=E(e.info.date,"year");s[o]?s[o].push(e):s[o]=[e]}for(const e in s)t.unshift({year:e,data:s[e]});return t},M=(l,s)=>s===""?l:l.filter(t=>t.info.tags?t.info.tags.includes(s):!1),Y=["onClick"],H={key:0},W={key:1},X=y({props:{currentTag:{type:String,default:""}},setup(l){const s=k(),t=w(),e=A(),{tagsWithColor:o}=C(),{posts:p}=x(),u=_(()=>[{name:s.value.showAllTagsText,path:e.value.path,tagColor:null,pages:[]},...o.value]);return(f,n)=>(r(!0),c(m,null,v(i(u),(a,P)=>(r(),c("span",{key:P,class:N(["article-tag",[a.name===l.currentTag&&"active",a.path===i(e).path&&"tag-all"]]),style:R([a.tagColor?{backgroundColor:a.tagColor}:{}]),onClick:I=>i(t).push(a.path)},[D(g(a.name)+" ",1),a.path==i(e).path?(r(),c("sup",H,g(i(p).length),1)):(r(),c("sup",W,g(a.pages.length),1))],14,Y))),128))}});var j=T(X,[["__file","TagList.vue"]]);const q={class:"year"},G={class:"title"},J={key:0,class:"subtitle"},K=h("hr",null,null,-1),O=y({props:{data:{type:Array,default:()=>[]}},setup(l){return(s,t)=>{const e=V("RouterLink");return r(!0),c(m,null,v(l.data,(o,p)=>(r(),c("section",{key:p},[h("span",q,g(o.year),1),(r(!0),c(m,null,v(o.data,(u,f)=>(r(),c("div",{key:f,class:"item"},[d(e,{to:u.path},{default:L(()=>[h("p",G,g(u.info.title),1),u.info.subtitle?(r(),c("p",J,g(u.info.subtitle),1)):S("",!0)]),_:2},1032,["to"]),K]))),128))]))),128)}}});var Q=T(O,[["__file","TagPostList.vue"]]);const U={class:"tags-wrapper"},Z=y({setup(l){const s=b(),t=k(),{posts:e}=x(),{tags:o}=C(),p=_(()=>{const n=o.value.find(a=>a.path===s.path);return n?n.name:t.value.showAllTagsText}),u=_(()=>{const n=p.value===t.value.showAllTagsText?"":p.value;return F(M(e.value,n))}),f=_(()=>{var a;const n=t.value.pages&&t.value.pages.tags?t.value.pages.tags:{};return n.title===void 0&&(n.title=(a=t.value.pageText)==null?void 0:a.tags),n});return(n,a)=>(r(),z(B,null,{page:L(()=>[d($,{"page-info":i(f)},null,8,["page-info"]),h("div",U,[d(j,{"current-tag":i(p)},null,8,["current-tag"]),d(Q,{data:i(u)},null,8,["data"])])]),_:1}))}});var ot=T(Z,[["__file","Tags.vue"]]);export{ot as default};
